<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JP Company</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
<header>
    <h1>Sistema de Gestión de Propiedades Inmobiliarias JP Company</h1>
</header>

<main>
    <section class="container">
        <div class="action-buttons">
            <button id="showFormBtn" class="btn btn-primary">
                <i class="fas fa-plus"></i> Nueva Propiedad
            </button>
        </div>

        <!-- Formulario para crear/editar propiedades -->
        <div id="propertyForm" class="form-container hidden">
            <h2 id="formTitle">Añadir Nueva Propiedad</h2>
            <form id="form">
                <input type="hidden" id="propertyId">

                <div class="form-group">
                    <label for="address">Dirección*:</label>
                    <input type="text" id="address" name="address" required>
                    <span class="error-message" id="addressError"></span>
                </div>

                <div class="form-group">
                    <label for="price">Precio*:</label>
                    <input type="number" id="price" name="price" step="0.01" min="0" required>
                    <span class="error-message" id="priceError"></span>
                </div>

                <div class="form-group">
                    <label for="size">Tamaño (m²)*:</label>
                    <input type="number" id="size" name="size" step="0.01" min="0" required>
                    <span class="error-message" id="sizeError"></span>
                </div>

                <div class="form-group">
                    <label for="description">Descripción:</label>
                    <textarea id="description" name="description" rows="4"></textarea>
                    <span class="error-message" id="descriptionError"></span>
                </div>

                <div class="form-buttons">
                    <button type="submit" class="btn btn-success">Guardar</button>
                    <button type="button" id="cancelBtn" class="btn btn-secondary">Cancelar</button>
                </div>
            </form>
        </div>

        <!-- Panel de búsqueda -->
        <div class="search-panel">
            <h3>Buscar Propiedades</h3>
            <div class="search-form">
                <div class="form-group">
                    <label for="searchAddress">Dirección:</label>
                    <input type="text" id="searchAddress" class="search-input" placeholder="Buscar por dirección">
                </div>

                <div class="form-row">
                    <div class="form-group half">
                        <label for="searchMinPrice">Precio Mínimo:</label>
                        <input type="number" id="searchMinPrice" class="search-input" placeholder="Min." min="0" step="0.01">
                    </div>

                    <div class="form-group half">
                        <label for="searchMaxPrice">Precio Máximo:</label>
                        <input type="number" id="searchMaxPrice" class="search-input" placeholder="Max." min="0" step="0.01">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group half">
                        <label for="searchMinSize">Tamaño Mínimo (m²):</label>
                        <input type="number" id="searchMinSize" class="search-input" placeholder="Min." min="0" step="0.01">
                    </div>

                    <div class="form-group half">
                        <label for="searchMaxSize">Tamaño Máximo (m²):</label>
                        <input type="number" id="searchMaxSize" class="search-input" placeholder="Max." min="0" step="0.01">
                    </div>
                </div>

                <div class="search-buttons">
                    <button id="searchBtn" class="btn btn-primary">
                        <i class="fas fa-search"></i> Buscar
                    </button>
                    <button id="clearSearchBtn" class="btn btn-secondary">
                        <i class="fas fa-times"></i> Limpiar
                    </button>
                </div>
            </div>
        </div>

        <!-- Listado de propiedades -->
        <div class="properties-container">
            <h2>Listado de Propiedades</h2>
            <div id="loading" class="loading">
                <i class="fas fa-spinner fa-spin"></i> Cargando propiedades...
            </div>
            <div id="error" class="error hidden">
                Error al cargar las propiedades. Intente nuevamente.
            </div>
            <div id="noProperties" class="no-data hidden">
                No hay propiedades registradas.
            </div>
            <div id="propertiesList" class="properties-list hidden">
                <!-- Las propiedades se cargarán dinámicamente aquí -->
            </div>

            <!-- Contenedor de paginación -->
            <div class="pagination-container">
                <!-- La paginación se generará dinámicamente -->
            </div>
        </div>
    </section>

    <!-- Modal para ver detalles de la propiedad -->
    <div id="propertyDetailsModal" class="modal hidden">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>Detalles de la Propiedad</h2>
            <div id="propertyDetails">
                <!-- Los detalles se cargarán dinámicamente aquí -->
            </div>
        </div>
    </div>

    <!-- Modal de confirmación para eliminar -->
    <div id="confirmDeleteModal" class="modal hidden">
        <div class="modal-content">
            <h2>Confirmar Eliminación</h2>
            <p>¿Está seguro que desea eliminar esta propiedad? Esta acción no se puede deshacer.</p>
            <div class="modal-buttons">
                <button id="confirmDeleteBtn" class="btn btn-danger">Eliminar</button>
                <button id="cancelDeleteBtn" class="btn btn-secondary">Cancelar</button>
            </div>
        </div>
    </div>
</main>

<div class="logo-container">
    <img src="img/logo.jpeg" alt="Logo AREP" class="logo">
</div>

<script src="js/app.js"></script>
</body>
</html>